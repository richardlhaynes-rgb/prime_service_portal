<div class="bg-white dark:bg-gray-800 p-4 rounded shadow-sm border border-gray-200 dark:border-gray-600 cursor-move hover:shadow-md transition-shadow group relative flex flex-col gap-3"
     data-ticket-id="{{ ticket.id }}">
    
    <div class="flex justify-between items-start">
        <span class="text-xs font-bold text-gray-500 dark:text-gray-400 font-mono">#{{ ticket.id }}</span>
        
        <div class="relative group/tooltip">
            <span class="h-2.5 w-2.5 rounded-full block
                {% if 'Critical' in ticket.priority %}bg-red-500 animate-pulse ring-2 ring-red-200 dark:ring-red-900
                {% elif 'High' in ticket.priority %}bg-orange-500
                {% elif 'Medium' in ticket.priority %}bg-yellow-500
                {% else %}bg-green-500{% endif %}">
            </span>
            </div>
    </div>
    
    <a href="{% url 'ticket_detail' ticket.id %}" class="block text-sm font-semibold text-prime-navy dark:text-white hover:text-prime-orange leading-snug line-clamp-2">
        {{ ticket.title }}
    </a>
    
    <div class="h-px bg-gray-100 dark:bg-gray-700"></div>

    <div class="flex justify-between items-center text-xs">
        
        <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-400" title="Submitted by: {{ ticket.submitter.get_full_name }}">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4 text-gray-400">
                <path d="M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z" />
            </svg>
            <span class="font-medium truncate max-w-[90px]">{{ ticket.submitter.first_name }} {{ ticket.submitter.last_name|slice:":1" }}.</span>
        </div>

        {% if ticket.technician %}
            <div class="flex items-center gap-1.5 text-gray-600 dark:text-gray-400" title="Assigned to: {{ ticket.technician.get_full_name }}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-3.5 h-3.5 text-gray-400">
                    <path fill-rule="evenodd" d="M19 5.5a4.5 4.5 0 0 1-4.791 4.49c-.873-.055-1.808.128-2.368.8l-6.024 7.23a2.724 2.724 0 1 1-3.837-3.837L9.21 8.16c.672-.56.855-1.495.8-2.368a4.5 4.5 0 0 1 5.873-4.575c.324.105.39.51.15.752L13.34 4.66a.455.455 0 0 0-.11.494 3.01 3.01 0 0 0 1.617 1.617c.17.07.363.02.493-.111l2.692-2.692c.241-.241.647-.174.752.15.14.435.216.9.216 1.382ZM4 17a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd" />
                </svg>
                <span class="font-medium">{{ ticket.technician.first_name }}</span>
            </div>
        {% else %}
            <span class="text-gray-300 dark:text-gray-600 italic text-[10px]">Unassigned</span>
        {% endif %}
    </div>
</div>